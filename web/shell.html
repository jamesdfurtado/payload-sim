<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Submarine Payload Launch Simulator</title>
    <style>
      html, body { margin: 0; padding: 0; background: #0b1020; color: #ddd; height: 100%; }
      #canvas { display: block; margin: 0 auto; background: #000; }
      #status { position: absolute; top: 8px; left: 8px; font: 14px monospace; }
    </style>
  </head>
  <body>
    <div id="status">Loading...</div>
    <canvas id="canvas" oncontextmenu="event.preventDefault()" tabindex="-1"></canvas>
    <script>
      var Module = {
        preRun: [],
        postRun: [],
        print: (function() { return function(text) { console.log(text); }; })(),
        printErr: function(text) { console.error(text); },
        canvas: (function() {
          var canvas = document.getElementById('canvas');
          canvas.width = 1280;
          canvas.height = 720;
          return canvas;
        })(),
        setStatus: function(text) { document.getElementById('status').textContent = text; },
        monitorRunDependencies: function(left) { this.setStatus(left ? 'Preparing... (' + left + ' left)' : 'All downloads complete.'); }
      };
      window.onerror = function(event) { Module.setStatus('Exception thrown, see JavaScript console'); Module.setStatus = function(text) { if (text) Module.printErr('[post-exception status] ' + text); }; };
    </script>
    {{{ SCRIPT }}}
  </body>
  </html>


